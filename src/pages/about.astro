---
import { getCollection } from 'astro:content'
import { Image } from 'astro:assets'

import BaseLayout from '$layouts/Base.astro'

const groupOne = await getCollection('members', ({ data }) => {
  return data.group === 1;
})

const groupTwo = await getCollection('members', ({ data }) => {
  return data.group === 2;
})
---

<style>
/* Colores adaptativos para modo claro/oscuro */
.member-title {
  color: #46a2a8;
}

.member-name {
  font-weight: bold;
  color: var(--bs-body-color);
}

.member-position {
  font-weight: bold;
  color: var(--bs-body-color);
}

.member-department {
  color: var(--bs-body-color);
}

.group-two-title {
  color: #46a2a8;
}

.group-two-name {
  font-weight: bold;
  color: #46a2a8;
}

.group-two-position {
  color: #46a2a8;
  font-weight: bold;
}

/* Ajustes para modo oscuro */
[data-bs-theme="dark"] .member-title {
  color: #46a2a8;
}

[data-bs-theme="dark"] .group-two-title {
  color: #46a2a8;
}

[data-bs-theme="dark"] .group-two-name {
  color: #46a2a8;
}

[data-bs-theme="dark"] .group-two-position {
  color: #46a2a8;
}
</style>

<BaseLayout
  auth={false}
  admin={false}
  title="¿Quiénes somos?"
  description="About the project and its memembers">
  
  <section class="px-0 px-md-4 py-4 mx-auto">
    
    <div class="row gap-3 justify-content-center">
      {groupOne.map(member => (
        <div class="col-12 col-md-6 col-lg-4 text-center">
          <Image
            src={member.data.photo}
            alt={member.data.name}
            class="mb-3"
            style="object-fit: cover;"
            width={300}
            height={250}
          />
          <h3 class="h5 mb-2 member-title">{member.data.titulo}</h3>
          <h4 class="h5 member-name">{member.data.name}</h4>
          <p class="member-position">{member.data.position}</p>
          <p class="small member-department">{member.data.department}</p>
        </div>
      ))}
    </div>
  </section>

  <hr class="w-75 mx-auto my-4 border border-primary" />

  <section class="px-0 px-md-4 py-4 mx-auto">
    <h2 class="h4"></h2>
    <div class="row gap-2 justify-content-center">
      {groupTwo.map(member => (
        <div class="col-12 col-md-4 col-lg-3 text-center">
          <Image
            src={member.data.photo}
            alt={member.data.name}
            class="mb-2"
            style="object-fit: cover;"
            width={200}
            height={180}
          />
          <h3 class="h6 mb-1 group-two-title">{member.data.titulo}</h3>
          <h4 class="h6 group-two-name">{member.data.name}</h4>
          <p class="small group-two-position">{member.data.position}</p>
          <p class="small member-department">{member.data.department}</p>
        </div>
      ))}
    </div>
  </section>
</BaseLayout>
